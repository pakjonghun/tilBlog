---
date: 2022-05-15
category: til
---

## 오늘 한 일

- 알고리즘 : 프로그래머스 프렌즈 4블록 문제 푸는중(...)
  - 사각형으로 매칭되는 칸은 다 지워줬다.
  - 그런데 왜 정답이 안맞지? 디버깅 하다 시간 다 잡아 먹었다.
  - 어느새 코드가 200줄이 넘었다.
  - 이제는 어디가 어떻게 작동하는지도 잘 모르겠다. 그냥 다 지우고 다시 할까?
- 영화 찾기 프로젝트
  - 무한스크롤 을 1 아이템당 1개씩~ 커서 숫자만 갖고 순회하면서 빈 컨테이너 만들고
  - 다시 빈 컨테이너에서 인덱스(어처피 안변함.. 아이디는 어처피 안쓸 것 같아서..)갖고 다시 컨테이너 만들어주고!
  - 인덱스와 커서만 갖고 필요한 데이터 를 하나씩 꺼내서 주었다(아이디는 어처피 이 방식 못씀. 아이디가 객에 안에 들어가 있어서 너무 느려짐
  - 아이디 말고 인덱스로 해쉬 방식으로 매칭 시켜줘야 그나마 속도가 나옴. 레코일 에서 알려주는 방식대로
  - 만들긴 했는데 간단한 것을 너무 복잡하게 한게 아닌가 걱정이 된다.

## 어려운점

- 알고리즘

  - 189줄이다... 와 코드 줄이는 것도 의미가 없는것 같다 전부 필요한 것이고 재사용 할만한 것도 안보인다.
  - 문제를 너무 복잡하게 풀고 있는 생각이 든다.
  - 사각형 이 매칭되는 것을 2차 배열에서 찾아서 모두 없애주고
  - 없어진 만큼 다시 블록을 내려주고
  - 여기까진 잘 됬는데
  - 없어진 블록 숫자 세는 것에서 숫자가 좀 틀리는 것 같아서 디버깅을 하고 있다.
  - 코드가 길다보니 문제 찾아내기 정말 힘들다.. ㅠ
  - 하 뭐가 문제지?.. 정말 다 지우고 다시 해봐야겠다 너무 꼬였다 정리좀 하면서 찬찬히...

- 영화 찾기 프로젝트

  - 디버깅 놀이를 했다.
  - 이 아이템이 마지막 아이템인지 확인 하는 로직
    - 아이템이 필터링 되면 인덱스고 커서고 뭐고 다 꼬이므로
    - 커서당 아이템 개수를 저장하는 스택을 만들어서 레코일 아톰으로 두었다.
    - 그리고 그 커서는 필터링 될때마다 리셋 시켜서 다시 채워주었다.
    - 마지막 아이템인지 판별을 이 스택의 합을 통해서 계산해 주었다.
  - 아이템을 계속 스크롤 해도 필터링 조건에 맞는 아이템이 안나올때 조치
    - 재시도 횟수를 아톰으로 정해주었다.
    - 재시도 횟수가 5회 넘어가면 다시 시도하겠냐는 메세지와 재시도 횟수 초기화 버튼이 랜더링된다.
    - 클릭하면 빠르게 5회 재시도 할 수 있는 기회가 주어지고 스크롤링 계속 하면된다.
  - 이제 마지막 커서 를 정해줘서 이 커서에 해당하면 더이상 시도 못하게만 막으면 무한스크롤끝
  - 스테이트 관리 하면서 리덕스 디버깅 툴을 잘 이용 안해서 몰랐는데 레코일은 그런게 없어서 일일히 콘솔 찍거나 snapshot 이용해야 했다. 조금 불편했다.

  ## 해야할 일

  - 영화찾기 프로젝트
    - 무한스크롤 마지막 커서 받아와서 이 커서 넘기지 못하게 로직 작성
    - 필터 조건에 genres 넣어줄 것
    - tv 도 동일하게 조건 넣어서 검색 하게 해줄 것
    - tv 는 별도로 만들어야 함
    - 테스트 코드 작성하고 마무리!
  - 알고리즘은 다 지우고 새로 해보자.
    - 방법은 알겠는데 잘못 생각한 부분이 있는 것 같아서 그걸 찾아야 하는데 그냥 다 지우고 차근차근
    - 하는게 더 낫겠다.
