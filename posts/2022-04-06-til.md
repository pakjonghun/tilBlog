---
category: til
date: 2022-04-06
---

## 오늘 한 일

- 알고리즘은 못 풀었다.(프로그래머 빛의 굴절 문제)
- 거의 정답에 근접했다고 생각했고, 테스트 도 몇개는 통과했지만...
- 정답은 아니었다. 이쯤되면 다른사람 풀이보고 따라해야 할듯 하다...
- next 에서 next api 이용한 pagnation 구현을 해보았다.
- next 이미지 컴포넌트를 사용해 보았다.

## 어려운점

- 무한스크롤을 구현하려다 보니 잘 안된다.
- element 안에서만 작동하는 무한스크롤 을 구현하려니 스크롤을 옮기는 것은 알겠는데
- 스크롤을 감지 하는 방법을 몰라서 하다가 멈추었다.
- 그리고 무한스크롤은 쉽게 구현 하려면 라이브러리 를 사용 해야 할 것 같다는 생각이 들었다.
- 한번 만들어서 잘 작동 하게 할 수도 있을 것 같은데 시간이 걸린다는 점과 오작동을 할 수도 있다는 점에서 일단 작동이라도 제대로 하게 하려면 라이브러리 쓰는게 속 편할 것 같았다.
- next image Component 는 사용해 보니 놀라웠다.
- 흐림 이미지 생성, placeholder, lazyloading, quality 조정, 이미지 압축 등등 그냥 놀람에 연속이었다.
- 이거 일일히 구현하려고 하면 얼마나 많은 시간과 노력이 필요할런지... 역시 프레임 워크라는 생각이 들었다.
- s3 만 이미지 업로드로 사용되는 것이 아니라는 것을 알았다.
- 인강에서 소개 해 준 cloudflare image 를 6천원 내고 사용 해 보았다.
- s3 보다 더 쉽고 서버가 없다는 단점도 보완해 줘서 좋았다.
- 6천원 본전 건질때 까지 열심히 업로드 다운로드 해봐야지.
- 서버가 없어서 계속 답답 했다. next api 를 사용하는 것이 맞을까? 하는 의문이 자꾸 생겼다.
- 일단 실시간 통신은 서버가 없기 때문에, 서버 로직이 실행 후에 끊겨 버리므로,
- 정확히 말하면 계속 유지가 되고 있는 서버가 없기 때문에
- 실시간 통신을 불가능 하다는 것을 알게 되었다.
- 서버리스를 하면 편하긴 하지만 포기 해야 하는 것들이 많아 보였다.
- prisma seed 기능을 사용해 보았다 package.json에 "prism" 하나 만들고 그 안에 명령어키와 명령어를 넣으면 cli 로 작동 하게 할 수 있었다.
- 그 전에는 seed 를 별도로 만들고 따로 스크립트로 실행 했는데 이번에는 prisma 를 통해서 실행시켰다.
- outside module 오류가 떠서 prisma doc 에서 시키는대로 스크립트에 옵션을 넣어줘서 해결했다.

```
"prisma": {
    "seed": "ts-node --compiler-options {\"module\":\"CommonJS\"} prisma/seed.ts"
  }
```

## 해야 할 일

- next 이미지 컴포넌트 좀더 써보기(local image , remote image)
- next api 로 실시간 기능을 넣을 수 있는지 계속 알아보기
