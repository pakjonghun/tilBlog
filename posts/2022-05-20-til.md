---
date: 2022-05-20
category: til
---

## 오늘 한 일

- 알고리즘 : 삼각달팽이 풀음
  - 문제에서 주어진대로 그대로 작성해서 풀었다.
  - 숫자가 1~100까지로 아주 적어서 시간복잡도 상관없이 풀었다.
  - 다른사람 풀이를 보고, 비교해봤는데 놀랍게도 비슷 한 방식으로 풀은 사람이 많았다.
- movie-search 프로젝트
  - 드디어 길을 찾았고, 모든 기능을 다 작성했다.
  - 영화 드라마 검색, 인기, 최근개봉 혹은 방영 별로 나누어서 필터링 검색 다 되도록 작성했다
  - 디테일 정보는 비디오만 추가로 불러와서 넣어주었다.
  - 스크롤을 기억하는 기능을 별도로 넣었고,
  - 필터링 및 검색 및 조건들을 모두 atomFamily 로 만들어서 각자 고유의 스테이트를 가지게 만들었다.
  - 그 결과 각 필터링 조건이 모두 저장된다.

## 어려운점

- 무한스크롤 구현방법을 찾고 고민하는 것이 어려웠다.
  - 오늘 고생했던 부분은 스크롤 위치 기억하는 기능이다.
  - 쉽게 만들었는데 스크롤 이벤트가 랜더링 시 mount 될때 3번 이벤트가 작동하면서
  - 스크롤이 알아서 위로 올라가는 버그가 있었다.
  - dep 하나씩 다 살펴보고, useLayouteffect 등 이벤트를 늦게 다는 방법을 찾아보기도 했는데
  - 이벤트가 여러번 발생하는 원인을 못 알아냈다.
  - 급한대로 이벤트가 쓰로틀링 되도록 작성해서 버그를 막았지만
  - 어쩌다가 한두번씩(컴퓨터가 느릴때) 쓰로틀링 시간을 벗어날때는 다시 오작동 한다.
  - 그리고 같은 컨텐츠 버튼을 또 클릭시 스크롤이 올라가는 버그도 있었다. ㅠ ㅠ
- 알고리즘
  - 오늘은 집중이 좀 잘되서 쉽게 풀고 여유가 있었는데
  - 집중이 정말 안될때는 정말 안 풀리는 것 같았다. ~집중 이 중요한것 같다.

## 해야할 일

- search-movie 프로젝트
  - 같은 콘텐츠 또 클릭시 같으면 랜더링 안되게 막기
  - 필터링 박스가 오픈될때 아이템이 제대로 가려지도록 z-index 조정
  - 필터링 박스에서 컨텐츠 스위치 변경시 화면 바뀌도록 기능 작성
  - 필터링 박스 바깥 부분 틀릭시 필터링 박스가 닫치도록 기능 작성
  - 필터링 결과 매칭되지 않는 아이템은 블러말고 다른 방식으로 바꿔 볼 것(아니면 어두운 배경 으로 배경을 바꿔볼것)
  - 최적화작업(다이나믹 임포트 적용)
  - 테스트코드 작성(버그가 있나 다시 확이하면서 작성)
