---
date: 2022-06-12
category: til
---

## 오늘 한 일

- 알고리즘 : 방문길이(풀음)
- sql 문제 : join subQuery 1문제(푸는중)
- socket.io 학습
  - 성능측정 프로젝트 따라하기 완료
  - 초과근무 프로젝트에 실시간 기능 추가(로그인, 일시작, 일종료, 로그아웃, 그냥종료)
  - 관리자가 모니터링 하는 부분을 실시간으로 처리(관리자에게만 emit 보내면 됨)
  - 관리자와 상담 전용 채팅기능 작성중

## 어려운점

- socket.io
  - 채팅기능 작성중(io 에서 나오지 않는 속성이 좀 있어서 애를 먹고 있다)
  - 그냥 서버를 만들어서 io 갖고 이리저리 조작하다 보면 작동 했는데
  - nestjs 는 io 를 안주는 건지 제한적으로 주는건지.. 안나오는 속성이 좀 있어서...
  - io 라고 데코레이터가 반환한 객체를 이리저리 파 보는데 제대로 된 값이 안나와서 고생중이다.
  - 이거 아직 socket.io 를 잘 모르고 있는 것 같다. doc 계속 읽고 다른 인강 좀 듣고 해야겠다는 생까이 든다.
  - 차랄 프론트 작성하면서 백을 같이 작성 하는 것이 좀더 수월 할 것 같다는 생각이 들었다.
  - 또 아직 socket.io 를 잘 모르고 있다. 좀더 공부 해야 한다 는 생각도 들었다.
- 알고리즘:쉬운문제였다 20분 안되서 풀은 것 같다.
  - 굳이 배열로 기억할 필요가 있나 싶어서 string 로 좌표를 바꿔서 캐슁해주면서 풀었다.
  - 덕분에 짧은 시간에 정답을 맞출 수 있었다.
- sql 문제는 와... 정말 복잡했다 일단 문제가 이해가 안된다.ㅠ ㅠ
  - 문제 이해가 안된다.
  - 뭔말인가 계속 읽다가 시간이 계속 가서 다음에 하기로 하고 덮었다.

## 해야 할 일

- socket.io 채팅기능 인강 하나만 더 듣기(채팅 할때 기능작성 위주로 빠르게 듣기)
- 프론트 화면 빠르게 작성하고 실시간 기능은 백이랑 붙여가면서 작업할 것
- socket.io 인증부분이 궁금하다 어떤식으로 할지.. handshake 에서 token auth key 같은 걸 사용할 지
- 아니면 http 통신 한 cookie 에서 별도로 뭔가 받아서 처리를 할지
- 나는 cookie 로 인증 후에 이것을 다시 io 에 전달해서 io 에 list 를 만들어서 저장하고 매칭시키는 방식을 사용했는데
- 과연 이 문제를 어떻게 처리 해야 할지 궁금하다
