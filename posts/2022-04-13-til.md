---
date: 2022-04-13
category: til, react, tailwind
---

## 오늘 한 일

- 알고리즘 3일째 1문제를 못풀고 있다.
- 초과근무 프로젝트 게시판과 기록관리 페이지를 디자인 했다.

## 어려운점

- 탐욕법 답이 없다.(최근에 한번 최신화 되서 다른사람 풀이도 다 안먹힌다, 그런데 안풀릴수록 오기가 생긴다.. 이러면 안되는데...)
- grid-column : span 2 => dom obj 에서는 띄어쓰기 잘 해야 한다.
  ```
  //span 과 2 사이 공백 없으면 작동 안함
  style={{gridColumn:"span 2"}}
  ```
- tailwind 에서 dynamic 하게 스타일링 하려면 import export 하면 안된다.
- 또 함수로 클레스를 만들어도 안되며(joinStyle 제외, 함수를 분리해서 각각 string+string 하는것은 안됨)
- 오로지 원형 그대로의 string 을 담은 배열로만 다이나믹한 관리를 할 수 있다. [DOC 링크](https://tailwindcss.com/docs/content-configuration#dynamic-class-names)
- 컴포넌트를 재활용 하려고 난리를 치다가 결국 재활용 할 수 있는것만 놔두고 새로 작성을 했다.
- 그리고 고민했다. 과연 프롭스를 엄청나게 넘겨가면서 재활용 할 수 있게 만드는 것이 좋은지
- 아니면 확실히 재활용 되는것만 작은단위로 재활용을 하는 것이 좋은지
- 일단 작더라도 재활용 되는것이 확실 한 것만 재활용 할 수 있게 만들고(icon lable header row 등)
- 큰 것들 아니면 분기되는 것들 은 분기를 만들지 말고 그냥 새로 하나 만드는 것이 맘편하고 빨랐다.
- 오히려 이렇게 하는것이 훨씬 코드도 알아보기 쉬웠고, 나중에 다시 고치기도 수월했다.
- 중간에 프론트 컴포넌트에 필요한 데이터 형식을 백엔드에서 만들어 주는 것이 아니라
- 프론트에서 리덕스나 contextapi 혹은 레코일로 데이터 구조를 변경해주는 리듀서를 만들면 어떨까 고민해보았다.
- 결론은 NO!!
- 일단 SWR 같은 걸로 충분히 커버 가능하며
- SWR mutation 으로 캐쉬를 수정하는 것이 약간 불편하지만 성능 면에서 오히려 나중에 더 편하고, 빠르다.
- 또 데이터 구조를 많이 안바꿔도 될 정도로 기획 단계 부터 고민을 많이 해야 한다고 생각하게 되었다.
- 처음에는 contextapi 를 쓰려다가 doc 에 컴포넌트 재활용이 힘들어지니 꼭 필요할때만 contextapi 를 사용하세요 라는 문구를 보고 고민해 보았다.

  - contextapi 를 넣으면 네스트 된 자식 컴포넌트에서 글로벌하게 함수 스테이트를 사용 가능하다.
  - 컴포넌트에 고정된 스테이트 형태를 지켜야 하게 되므로(어처피 고정되지 않나?)
  - 아..! 컴포넌트를 계속 수정하면서 재활용이 점점 더 용이하게 바꿔야 하는데
  - 미리 context 를 적용해 버리면 재활용을 하기 위해 수정 자체가 까다로워진다.
  - 차라리 리덕스로 해버리면 자식들 네스트로 묶어 줄 필요도 없고 최적화 할 필요도 없으므로 context 보다 더 나음
  - recoil 이 lite 하다고 해서 한번 써보려다가 이게 웬걸... Next 에서 오류 투성이..에 doc 에서도 다운 그레이드 하라고 적혀 있고 해서 그냥 포기했다 아직 알파 버전 이라서 그런 것 같았다.
  - 차라리 사람들 많이 사용하고 toolkit 이 나와서 많이 괜찮아진 redux 를 필요할때 사용 하는 것이 좋다고 생각했다. 하지만 아직은 안써도 되므로 적용하지 않았다.

  ## 해야 할 일

- 게시판 디테일 페이지 작성 post/[id]
- 댓글 컴포넌트 작성
- 어드민 메인 페이지 구상 및 작성(이건 생각 못했던 건데 이걸 만들어야 전반적인 어드민 구상이 된다.
- 개인정보 조회, 수정 페이지(관리자만 가능하도록)
- 초과근무 내역조회 페이지 작성
- 아마 2일 내로 디자인은 완성 될 것 같다.
- 디자인 완료하고 바로 회원정보 부터 백엔드 작성하고 붙이고 하면 다음주 내로 프로젝트 하나 끝나지 않을까 싶다.
