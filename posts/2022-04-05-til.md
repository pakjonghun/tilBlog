---
category: til
date: 2022-04-05
---

## 오늘 한 일

- next 로 api 계속 만들고 프론트와 붙임
- 작업 순서에 대해서 고민
  - 현재 하는 방식 : db 모델링->백엔드 api 작성->프론트에 붙이기->테스트
  - 문제점 : db 나 백엔드 에 바꿀 것이 생기면 이제까지 한거 싹다 바꿔야함
  - 개선방안 : db 모델링을 먼저 싹다 한다 -> api 를 작성하면서 프론트에 붙인다.(적어도 db 때문에 프론트까지 갈아 엎는 경우는 줄어듬)
- ssr csr spa ssg의 개념에 대해서 복습
  - csr 이 첫 페이지 로딩때 리소스를 한번에 받기 때문에 code-spliting, tree-shaking 등 의 최적화를 해야 하고,
  - ssr 은 tti ttv 의 시간 차이를 줄이기 위해 노력해야 하고(아직 어떻게 하는줄 모름)
  - ssg 는 적용할 페이지를 정해서 캐슁 할 거를 분별하는 노력을 해야 함.
- 실시간 기능은 next 만으로 안된는 것 같음. 별도 서버 구성하거나 다른 툴을 찾아봐야 함.

## 어려운점

- 실시간 기능이 next 만으로 안된다는 걸 알게 되었다.
- 실망이다.... 하지만 한편으로 다행인것 같기도 하다.
  - 왜냐하면 next로 validate 기능 넣기가 비교적 번거롭고 그밖에 라우팅 계층이나 컨트롤러 계층 모델링 계층 서비스 계층을 나누지 못하니까 너무 복잡, 아니 조잡해 져 가는 것 같아서 별로 마음에 안들었기 때문이다.
  - class validator 사용해서 dto 와 연동해서 편하게 작업 하고 싶은 생각이 간절했다. 그리고,
  - 계속 반복되는 작업(400, 404 , 405 오류 구분 및 유효성 검사)를 decorator로 간단하게 해결해 보고 싶은 생각이 자꾸 들었기 때문이다.
  - 아예 자주 쓰는 예외가 미리 전부 작성되어 있고 예외계층이 따로 있어서 별도로 설정하지 않아도 알아서 tryCatch 가 되는 nest 도 자꾸 하고 싶었기 떄문이다.
  - 어쨋든 뭔가 제대로 만들려면 어처피 서버는 구성 해야 하는 것 같다.
- 알아야 하는 것이 많다. 꾸준히 집중해서 해야 할 것 같다.

## 해야 할 일

- next 로 실시간 기능 구현이 가능한지 다시 알아보기
