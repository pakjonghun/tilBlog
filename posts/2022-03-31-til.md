---
category: til
date: 2022-03-31
---

## 오늘 한 일

- 알고리즘 1문제 풀고(연산을 모두 배열에 넣은 후에 차례차례 진행해서 풀었다.)
- "1+1" 이 있다면 [1,"+",1]로 배열로 나눈후에 합치면서 다시 배열로 만들어 주었다.
- 그 전에는 배열로 안만들고 문자열로 만들었는데 이렇게 하니까 자리수가 문제가 되어서 배열로 변경해서 풀었다.
- swr 사용하면서 isLoading 에 관해서 고민을 해보았다.
- const {data,error}=useSWR(url,fetcher) 에서
- !data&&!error 을 isLoading 으로 생각했는데
- 화면을 리다이렉트 하는 과정에서 계속 보이지 말아야 하는 화면이 떠서 로그를 계속 확인해 보니까 재미있는걸 알게 되었다.
- next 는 redirect 를 react 와 다르게 router.push + useEffect 로 구현하는데
- useEffect 에서 조건에 맞아서 리다이렉트 할때
- 그 맞는 조건에서 어떤 화면이 랜더링이 되 있을 것인지 까지 설정을 해주어야 했다.
- 아마 서버단에서 리다이렉트로 응답 해버리면 더 쉽게 해결될 수도 있지 않을까 생각했는데
- 프론트에서 해야 할 역할이라 생각해서 리다이렉트는 모두 프론트에서 진행했다.
- 그래서 리 다이렉트가 필요한 페이지에서는 isLoading 이 같은 데이터라 해도 달라 졌다.
- 쉽게 말해서 리 다이렉트 할때 조건에서 보여야 하는 화면을 그 조건 하에 띄워야 하므로
- 리다이렉트 되는 조건을 isLoading에 추가 해줄 필요가 있었다.
- 이렇게 하니 원하는대로 작동 했다

## 어려운점

- swr 은 이제 제법 사용 해 봐서 잘 안다고 생각했는데
- isLoading 이런 것들도 다 정해져 있다고 생각했고,
- redirect 가 next 에서 조금 다르게 작동하는 것 같다는 생각이 들긴 했지만
- 그래도 이렇게 까지 시간을 많이 들여서 고민하게 될 줄은 몰랐다.
- useEffect 안 에서 조건을 따져서 화면에 을 리다이렉트 할때는
- 그 리다이렉트 되기 직전까지 어떤 화면이 랜더링 되게 할 것인지 세세한 설정이 필요하다는 것을 고민 끝에 알게 되었다.

## 해야 할 일

- next 실컷 사용해 보기
- 빨리 감 잡기 막히는것은 그냥 넘기지 말고 계속 고민하기
