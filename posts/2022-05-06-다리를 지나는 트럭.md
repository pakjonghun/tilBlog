---
date: 2022-05-06
category: algo
---

## 문제

- 트럭들이 다리를 지나가는데 걸리는 시간을 구하시오.
- 1칸 이동하는데 1초 걸림.
- 지나가야 할 트럭 array = [1,2,3,4] 각 value 는 트럭의 무게임
- solution 함수의 매개변수로 다리에 올라갈 수 있는 트럭 수 bridge_length, 다리가 견딜 수 있는 무게 weight, 트럭 별 무게 truck_weights가 주어집니다. 이때 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 return 하도록 solution 함수를 완성하세요.

## 1차 시도

- 문제 그대로 작동된다고 생각하는 코드를 만들고 틀렸다.
- 아직 왜 틀렸는지 모르겠다.

```
function solution(bridge_length, weight, truck_weights) {
  const start = [...truck_weights];
  const bridge = [...Array(bridge_length)].map(() => null);
  let time = 0;
  start.sort((a, b) => b - a);

  let curBridgeWeight = 0;

  while (start.length || bridge.some((v) => v !== null)) {
    if (curBridgeWeight + start.slice(-1)[0] <= weight) {
      const truck = start.pop();
      bridge.unshift(truck);
      const passed = bridge.pop();
      curBridgeWeight = curBridgeWeight + truck - (passed ? passed : 0);
      time++;
    } else {
      const passed = bridge.pop();
      if (curBridgeWeight - passed + start.slice(-1)[0] <= weight) {
        const truck = start.pop();
        bridge.unshift(truck);
        curBridgeWeight = curBridgeWeight - (passed ? passed : 0) + truck;
      } else {
        bridge.unshift(null);
        curBridgeWeight -= passed ? passed : 0;
      }

      time++;
    }
  }
  return time;
}
```

## 2차시도

- 트럭의 순서가 고정되 있다는 것을 알게되었다 소트 하는 부분을 빼고 정답을 맞췄다
- 이제 다른사람 풀이 보는 시간을 가져야 겠다!!

```
function solution(bridge_length, weight, truck_weights) {
  const start = [...truck_weights];
  const bridge = [...Array(bridge_length)].map(() => null);
  let time = 0;

  let curBridgeWeight = 0;

  while (start.length || bridge.some((v) => v !== null)) {
    if (curBridgeWeight + start.slice(-1)[0] <= weight) {
      const truck = start.pop();
      bridge.unshift(truck);
      const passed = bridge.pop();
      curBridgeWeight = curBridgeWeight + truck - (passed ? passed : 0);
      time++;
    } else {
      const passed = bridge.pop();
      if (curBridgeWeight - passed + start.slice(-1)[0] <= weight) {
        const truck = start.pop();
        bridge.unshift(truck);
        curBridgeWeight = curBridgeWeight - (passed ? passed : 0) + truck;
      } else {
        bridge.unshift(null);
        curBridgeWeight -= passed ? passed : 0;
      }

      time++;
    }
  }
  return time;
}

```
