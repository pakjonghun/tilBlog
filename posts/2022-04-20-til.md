---
date: 2022-04-20
category: til
---

## 오늘 한 일

- recoil 을 next에서 사용하면서 시간을 많이 허비했다.
- contextapi 로 적용하려고 인강이나 doc 훝어보고
- recoil 도 동일하게 적용해보고
- redux 도 고민을 해봤는데
- 답이 안나온다 일단 recoil 은 단순 글로벌 관리와 혼자 사용할 때는 좋다.
  - swr 과는 상성이 많이 안좋다. reducer 처럼 커스텀도 안되고
  - swr 에서 비동기로 작동 하려고 하면 suspense 와 같이 사용 해야하는데
  - ssr 에서 이거 안된다. 오류뜬다.
- 나는 swr 사용할 생각이니까 recoil 은 패스!
- redux 는 swr과 사용하기에는... 차라리 리덕스 하나만 쓰고 말지...
- 남은건 contextapi 인데 하...
- 여튼 고민을 많이 한다고 하루 종일 시간을 많이 썼다.

## 어려운점

- 확실히 recoil 로 글로벌하게 스테이트 관리 하면 편하다.
- 처음부터 적용했으면 지금보다 더 빨리 작업 했을 것 같다.
- 리덕스는 처음부터 고려하지 않았다.
- 왜냐하면 너무 코드량이 많아지고, 안써도 될 것 같은데 라는 느낌이 많이 들기 때문이다.
- 비동기는 swr 에게 동기 작업은 다른 라이브러리에게 라는 생각으로 접근했는데
- 동기 작업도 비동기 작업 결과에 따라 달라 질 수 있기 때문에 둘이 섞을 수 밖에 없다.
- 아직도 고민이 된다. recoil 은 너무 많이 막힌다 조합 자체가 안맞다 recoil 혼자 썻다면 차라리 처음부터 swr 안썼으면 이런 고민도 안했을 텐데...
- 리덕스로 할지 contextapi 로 할지 결정해야 할 것 같다.
- ui 는 대략 다 만들었는데 데이터 관리에서 막히는구먼...
- 그냥 계속 프롭스 넘기고, 필요한 곳에서 swr 쓰면서 막 만들 수 있긴 하다...
- 훅과 컴포넌트를 나누고 나눠서
- 다시 필요한거 모아서 모듈화 하면서 나름 깔끔하게 만들수도 있다.
- 하지만 이미 경험했다싶이 그렇게 만들어봤자. 유지보수가 너무 힘들어진다.

## 해야 할 일

- 리덕스 나 contextapi 중에 선택해서 적용 할 것
